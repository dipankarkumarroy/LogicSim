<!DOCTYPE html>
<html lang="en" class="fontawesome-i2svg-active fontawesome-i2svg-complete">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LogicSim</title>

    <link rel="stylesheet" href="st1.css">
    <link rel="stylesheet" href="st2.css">
    <link rel="stylesheet" href="st3.css">
</head>

<body class="flex flex-col h-screen">

    <input type="color" id="hiddenColorPicker" class="absolute opacity-0 pointer-events-none" style="top:0; left:0;">
    <input type="text" id="onCanvasInput"
        class="absolute bg-gray-800 text-white border border-blue-500 p-1 z-50 hidden font-sans outline-none shadow-lg rounded"
        style="min-width: 50px; display: none; left: 421px; top: 526px;">
    <input type="file" id="fileInput" style="display:none" accept=".json" multiple=""
        onchange="sim.importCircuit(this)">

    <div id="alertBanner"
        class="bg-red-500/90 text-white px-6 py-3 rounded shadow-lg border border-red-400 flex items-center gap-3"
        style="display: none;">
        <svg class="svg-inline--fa fa-triangle-exclamation text-xl" aria-hidden="true" focusable="false"
            data-prefix="fas" data-icon="triangle-exclamation" role="img" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512" data-fa-i2svg="">
            <path fill="currentColor"
                d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z">
            </path>
        </svg>
        <div>
            <div id="alertTitle" class="font-bold">Short Circuit Detected!</div>
            <div id="alertMsg" class="text-xs opacity-90">Simulation stopped. Remove conflicting wires to resume.</div>
        </div>
        <button onclick="sim.clearAlert()" class="ml-4 hover:bg-red-600 rounded px-2 py-1"><svg
                class="svg-inline--fa fa-xmark" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="xmark"
                role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z">
                </path>
            </svg></button>
    </div>

    <div id="ttModal" class="fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4"
        style="display: none;">
        <div
            class="bg-gray-800 p-6 rounded-lg shadow-2xl max-w-5xl w-full max-h-[90vh] flex flex-col border border-gray-600">
            <div class="flex justify-between items-center mb-4 shrink-0">
                <div class="flex items-center gap-3">
                    <svg class="svg-inline--fa fa-table text-blue-400 text-2xl" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="table" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z">
                        </path>
                    </svg>
                    <div>
                        <h2 class="text-xl font-bold text-white">Truth Table Generator</h2>
                        <p class="text-xs text-gray-400">Scans Switches (Inputs) and Lights (Outputs)</p>
                    </div>
                </div>
                <button onclick="sim.closeTruthTable()" class="text-gray-400 hover:text-white text-xl px-2"><svg
                        class="svg-inline--fa fa-xmark" aria-hidden="true" focusable="false" data-prefix="fas"
                        data-icon="xmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                        data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z">
                        </path>
                    </svg></button>
            </div>
            <div id="ttContent"
                class="overflow-auto flex-1 bg-gray-900 p-4 rounded border border-gray-700 font-mono text-sm">
                <div class="flex flex-col items-center justify-center h-full text-gray-500 gap-2">
                    <svg class="svg-inline--fa fa-microchip text-4xl mb-2" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="microchip" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V280h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V176h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H280V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H176V24zM160 128H352c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32zm192 32H160V352H352V160z">
                        </path>
                    </svg>
                    <p>Click "Generate" to analyze the current circuit.</p>
                </div>
            </div>
            <div class="mt-4 pt-4 border-t border-gray-700 flex justify-end gap-2 shrink-0">
                <button onclick="sim.closeTruthTable()"
                    class="px-4 py-2 rounded text-gray-300 hover:bg-gray-700">Close</button>
                <button onclick="sim.generateTruthTable()"
                    class="bg-blue-600 hover:bg-blue-500 px-6 py-2 rounded text-white font-bold flex items-center gap-2">
                    <svg class="svg-inline--fa fa-play" aria-hidden="true" focusable="false" data-prefix="fas"
                        data-icon="play" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                        data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z">
                        </path>
                    </svg>Generate Table
                </button>
            </div>
        </div>
    </div>

    <div id="examplesModal" class="fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4"
        style="display: none;">
        <div
            class="bg-gray-800 p-6 rounded-lg shadow-2xl max-w-4xl w-full max-h-[80vh] flex flex-col border border-gray-600">
            <div class="flex justify-between items-center mb-4 shrink-0">
                <div class="flex items-center gap-3">
                    <svg class="svg-inline--fa fa-book-open text-green-400 text-2xl" aria-hidden="true"
                        focusable="false" data-prefix="fas" data-icon="book-open" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5V78.6c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8V454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5V83.8c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11V456c0 11.4 11.7 19.3 22.4 15.5z">
                        </path>
                    </svg>
                    <div>
                        <h2 class="text-xl font-bold text-white">Circuit Examples</h2>
                        <p class="text-xs text-gray-400" id="examplesSubtitle">Select a circuit to open</p>
                    </div>
                </div>
                <button onclick="closeExamplesModal()" class="text-gray-400 hover:text-white text-xl px-2">
                    <svg class="svg-inline--fa fa-xmark" aria-hidden="true" focusable="false" data-prefix="fas"
                        data-icon="xmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                        data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z">
                        </path>
                    </svg>
                </button>
            </div>

            <div class="overflow-y-auto flex-1 p-2">
                <div id="examplesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 min-h-[200px]">

                </div>
            </div>

            <div class="mt-4 pt-4 border-t border-gray-700 flex justify-end">
                <button onclick="closeExamplesModal()"
                    class="px-4 py-2 rounded text-gray-300 hover:bg-gray-700">Close</button>
            </div>
        </div>
    </div>

    <div
        class="h-14 bg-gray-800 border-b border-gray-700 flex items-center px-4 justify-between shrink-0 shadow-md z-50 gap-4 overflow-x-auto no-scrollbar relative">
        <button onclick="toggleSidebar()" class="toolbar-btn px-3 py-1 rounded text-gray-300 hover:text-white mr-2"
            title="Toggle Sidebar">
            <svg class="svg-inline--fa fa-bars text-lg" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z">
                </path>
            </svg>
        </button>

        <div class="flex items-center gap-2 text-blue-400 font-bold text-lg mr-4 shrink-0">
            <svg class="svg-inline--fa fa-microchip" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="microchip" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                data-fa-i2svg="">
                <path fill="currentColor"
                    d="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V280h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V176h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H280V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H176V24zM160 128H352c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32zm192 32H160V352H352V160z">
                </path>
            </svg><span class="hidden md:inline">LogicSim</span>
        </div>

        <div class="flex items-center gap-1 bg-gray-900/50 p-1 rounded border border-gray-700 shrink-0">
            <button onclick="sim.newCircuit()"
                class="toolbar-btn px-3 py-1 rounded text-sm text-gray-300 flex items-center gap-2" title="New Circuit">
                <svg class="svg-inline--fa fa-file" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="file" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z">
                    </path>
                </svg><span class="toolbar-text">New</span>
            </button>
            <button onclick="sim.saveCircuit()"
                class="toolbar-btn px-3 py-1 rounded text-sm text-gray-300 flex items-center gap-2"
                title="Save Circuit">
                <svg class="svg-inline--fa fa-floppy-disk" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="floppy-disk" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z">
                    </path>
                </svg><span class="toolbar-text">Save</span>
            </button>
            <button onclick="document.getElementById('fileInput').click()"
                class="toolbar-btn px-3 py-1 rounded text-sm text-gray-300 flex items-center gap-2"
                title="Import Circuit">
                <svg class="svg-inline--fa fa-folder-open" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="folder-open" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M88.7 223.8L0 375.8V96C0 60.7 28.7 32 64 32H181.5c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7H416c35.3 0 64 28.7 64 64v32H144c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224H544c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480H32c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z">
                    </path>
                </svg><span class="toolbar-text">Import</span>
            </button>
            <button onclick="openExamplesModal()"
                class="toolbar-btn px-3 py-1 rounded text-sm text-gray-300 flex items-center gap-2"
                title="Open Examples">
                <svg class="svg-inline--fa fa-book" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="book" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z">
                    </path>
                </svg><span class="toolbar-text">Examples</span>
            </button>
        </div>

        <div class="flex items-center gap-2 bg-gray-900/50 p-1 rounded border border-gray-700 shrink-0">
            <button id="playBtn" onclick="sim.setSimulationState(true)"
                class="toolbar-btn w-8 h-8 rounded text-green-400 flex items-center justify-center bg-gray-700"
                title="Play"><svg class="svg-inline--fa fa-play" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="play" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z">
                    </path>
                </svg></button>
            <button id="pauseBtn" onclick="sim.setSimulationState(false)"
                class="toolbar-btn w-8 h-8 rounded text-yellow-400 flex items-center justify-center" title="Pause"><svg
                    class="svg-inline--fa fa-pause" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="pause" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z">
                    </path>
                </svg></button>
        </div>

        <button onclick="sim.toggleGlobalLabels()"
            class="toolbar-btn px-3 py-1 rounded text-sm text-gray-300 flex items-center gap-2 shrink-0"
            title="Show/Hide All Labels">
            <svg class="svg-inline--fa fa-tag" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tag"
                role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z">
                </path>
            </svg><span class="toolbar-text">Labels</span>
        </button>

        <button id="fsBtn" onclick="toggleFullScreen()"
            class="toolbar-btn px-3 py-1 rounded text-gray-300 hover:text-white shrink-0" title="Toggle Fullscreen">
            <svg class="svg-inline--fa fa-expand text-lg" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="expand" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z">
                </path>
            </svg>
        </button>

        <div class="flex items-center space-x-1 border-r border-gray-700 pr-2 mr-2 shrink-0">
            <button id="undoBtn" class="p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors"
                title="Undo"><svg class="svg-inline--fa fa-rotate-left" aria-hidden="true" focusable="false"
                    data-prefix="fas" data-icon="rotate-left" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512" data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M48.5 224H40c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H48.5z">
                    </path>
                </svg></button>
            <button id="redoBtn" class="p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors"
                title="Redo"><svg class="svg-inline--fa fa-rotate-right" aria-hidden="true" focusable="false"
                    data-prefix="fas" data-icon="rotate-right" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512" data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z">
                    </path>
                </svg></button>
        </div>
        <div class="flex items-center gap-2 shrink-0">
            <button id="deleteBtn" onclick="sim.deleteSelection()"
                class="toolbar-btn px-3 py-1 rounded text-sm flex items-center gap-2 text-gray-400" disabled="">
                <svg class="svg-inline--fa fa-xmark" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="xmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z">
                    </path>
                </svg><span class="toolbar-text">Delete</span>
            </button>
        </div>
    </div>

    <div id="contextMenu" class="context-menu" style="display: none; left: 421px; top: 526px;">
        <div id="ctxTapWire" class="context-item hidden" style="display:none; color: #d1d5db;"><svg
                class="svg-inline--fa fa-circle-dot text-teal-400" aria-hidden="true" focusable="false"
                data-prefix="fas" data-icon="circle-dot" role="img" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z">
                </path>
            </svg>Tap on Wire
        </div>
        <div id="ctxRename" class="context-item hidden" style="display: flex; color: rgb(209, 213, 219);"><svg
                class="svg-inline--fa fa-pen text-yellow-400" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="pen" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z">
                </path>
            </svg>Rename</div>
        <div id="ctxToggleLabel" class="context-item hidden" style="display: flex; color: rgb(209, 213, 219);"><svg
                class="svg-inline--fa fa-tag text-purple-400" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="tag" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z">
                </path>
            </svg>Show/Hide Label</div>
        <div id="ctxFreq" class="context-item hidden" style="display:none; color: #d1d5db;"><svg
                class="svg-inline--fa fa-wave-square text-blue-400" aria-hidden="true" focusable="false"
                data-prefix="fas" data-icon="wave-square" role="img" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 640 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M128 64c0-17.7 14.3-32 32-32H320c17.7 0 32 14.3 32 32V416h96V256c0-17.7 14.3-32 32-32H608c17.7 0 32 14.3 32 32s-14.3 32-32 32H512V448c0 17.7-14.3 32-32 32H320c-17.7 0-32-14.3-32-32V96H192V256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h96V64z">
                </path>
            </svg>Set Frequency
        </div>
        <div id="ctxBits" class="context-item hidden" style="display: flex; color: rgb(209, 213, 219);"><svg
                class="svg-inline--fa fa-arrow-down-1-9 text-orange-400" aria-hidden="true" focusable="false"
                data-prefix="fas" data-icon="arrow-down-1-9" role="img" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 576 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M450.7 38c-8.3-6-19.1-7.7-28.8-4.4l-48 16c-16.8 5.6-25.8 23.7-20.2 40.5s23.7 25.8 40.5 20.2l5.9-2V160H384c-17.7 0-32 14.3-32 32s14.3 32 32 32h48 48c17.7 0 32-14.3 32-32s-14.3-32-32-32H464V64c0-10.3-4.9-19.9-13.3-26zM160 480c9 0 17.5-3.8 23.6-10.4l88-96c11.9-13 11.1-33.3-2-45.2s-33.3-11.1-45.2 2L192 365.7V64c0-17.7-14.3-32-32-32s-32 14.3-32 32V365.7L95.6 330.4c-11.9-13-32.2-13.9-45.2-2s-13.9 32.2-2 45.2l88 96C142.5 476.2 151 480 160 480zM418.3 307a32 32 0 1 1 27.4 57.9A32 32 0 1 1 418.3 307zM405.1 419.8l-6.8 9.2c-10.5 14.2-7.5 34.2 6.7 44.8s34.2 7.5 44.8-6.7l48.8-65.8c14-18.9 21.5-41.7 21.5-65.2c0-48.6-39.4-88-88-88s-88 39.4-88 88c0 39.2 25.6 72.4 61.1 83.8z">
                </path>
            </svg>Set Size
        </div>
        <div id="ctxEditText" class="context-item hidden" style="display:none; color: #d1d5db;"><svg
                class="svg-inline--fa fa-font text-green-400" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="font" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-1.8l18-48H303.8l18 48H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H390.2L254 52.8zM279.8 304H168.2L224 155.1 279.8 304z">
                </path>
            </svg>Edit Text</div>
        <div id="ctxTextColor" class="context-item hidden" style="display:none; color: #d1d5db;"><svg
                class="svg-inline--fa fa-palette text-pink-400" aria-hidden="true" focusable="false" data-prefix="fas"
                data-icon="palette" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                data-fa-i2svg="">
                <path fill="currentColor"
                    d="M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3H344c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z">
                </path>
            </svg>Text Color</div>
        <div class="w-full h-px bg-gray-600 my-1"></div>
        <div class="context-item text-red-400" onclick="sim.deleteSelection(); sim.hideContextMenu()"><svg
                class="svg-inline--fa fa-trash" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash"
                role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                <path fill="currentColor"
                    d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z">
                </path>
            </svg>Delete</div>
    </div>

    <div class="flex-1 relative overflow-hidden">
        <div class="absolute inset-0 bg-gray-900 z-0" id="canvas-container">
            <canvas id="simCanvas" width="818" height="674" style="cursor: default;"></canvas>
            <div id="statusOverlay"
                class="absolute top-4 right-4 bg-yellow-500 text-black px-2 py-1 rounded text-xs font-bold hidden pointer-events-none">
                <svg class="svg-inline--fa fa-pause" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="pause" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z">
                    </path>
                </svg>PAUSED
            </div>
        </div>

        <div id="sidebar" class="sidebar flex flex-col p-4 gap-4">
            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 mt-2">Power &amp; Input</div>
            <div class="grid grid-cols-3 gap-2">
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('VCC')"><span class="font-bold text-red-400 text-lg">VCC</span><span
                        class="text-xs">High</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('GND')"><svg class="svg-inline--fa fa-arrow-down text-gray-400 text-xl"
                        aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-down" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z">
                        </path>
                    </svg><span class="text-xs">GND</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('SWITCH')"><svg class="svg-inline--fa fa-toggle-on text-green-400 text-xl"
                        aria-hidden="true" focusable="false" data-prefix="fas" data-icon="toggle-on" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M192 64C86 64 0 150 0 256S86 448 192 448H384c106 0 192-86 192-192s-86-192-192-192H192zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z">
                        </path>
                    </svg><span class="text-xs">Switch</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('BUTTON')"><svg class="svg-inline--fa fa-bullseye text-red-400 text-xl"
                        aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bullseye" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z">
                        </path>
                    </svg><span class="text-xs">Button</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2 "
                    onclick="sim.addComponent('CLOCK')"><svg class="svg-inline--fa fa-clock text-yellow-400 text-xl"
                        aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clock" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z">
                        </path>
                    </svg><span class="text-xs">Clock</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('DIP_SWITCH')"><svg
                        class="svg-inline--fa fa-toggle-off text-blue-400 text-xl" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="toggle-off" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 576 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128H192c-70.7 0-128-57.3-128-128s57.3-128 128-128H384zM576 256c0-106-86-192-192-192H192C86 64 0 150 0 256S86 448 192 448H384c106 0 192-86 192-192zM192 352a96 96 0 1 0 0-192 96 96 0 1 0 0 192z">
                        </path>
                    </svg><span class="text-xs">DIP Switch</span>
                </div>
            </div>

            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 mt-2">Combinational</div>
            <div class="grid grid-cols-3 gap-2">
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('MULTIPLEXER')"><svg
                        class="svg-inline--fa fa-shuffle text-purple-400 text-xl" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="shuffle" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z">
                        </path>
                    </svg><span class="text-xs">Mux</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('DEMULTIPLEXER')"><svg
                        class="svg-inline--fa fa-code-branch text-purple-400 text-xl" aria-hidden="true"
                        focusable="false" data-prefix="fas" data-icon="code-branch" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M80 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48zm80-24c0 32.8-19.7 61-48 73.3v87.8c18.8-10.9 40.7-17.1 64-17.1h96c35.3 0 64-28.7 64-64v-6.7C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V160c0 70.7-57.3 128-128 128H176c-35.3 0-64 28.7-64 64v6.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V352 153.3C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80zm232 0a24 24 0 1 0 -48 0 24 24 0 1 0 48 0zM80 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z">
                        </path>
                    </svg><span class="text-xs">Demux</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('DECODER')"><svg
                        class="svg-inline--fa fa-diagram-project text-purple-400 text-xl" aria-hidden="true"
                        focusable="false" data-prefix="fas" data-icon="diagram-project" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z">
                        </path>
                    </svg><span class="text-xs">Decoder</span>
                </div>
            </div>

            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 mt-2">Arithmetic Circuits</div>
            <div class="grid grid-cols-3 gap-2">
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('HALF_ADDER')"><span class="font-bold text-xs">H-Add</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('FULL_ADDER')"><span class="font-bold text-xs">F-Add</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('HALF_SUB')"><span class="font-bold text-xs">H-Sub</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('FULL_SUB')"><span class="font-bold text-xs">F-Sub</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('ADDER_4BIT')"><span class="font-bold text-xs">4b Add</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('ADDER_8BIT')"><span class="font-bold text-xs">8b Add</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('SUB_4BIT')"><span class="font-bold text-xs">4b Sub</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('SUB_8BIT')"><span class="font-bold text-xs">8b Sub</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('MUL_2BIT')"><span class="font-bold text-xs">2b Mul</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('MUL_4BIT')"><span class="font-bold text-xs">4b Mul</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('DIV_4BIT')"><span class="font-bold text-xs">4-Bit Div</span></div>
            </div>

            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 mt-2">Integrated Circuits (74xx)
            </div>
            <div class="grid grid-cols-3 gap-2">
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('7408')"><span class="font-mono font-bold text-sm">7408</span><span
                        class="text-xs text-gray-400">AND</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('7432')"><span class="font-mono font-bold text-sm">7432</span><span
                        class="text-xs text-gray-400">OR</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('7404')"><span class="font-mono font-bold text-sm">7404</span><span
                        class="text-xs text-gray-400">NOT</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('7400')"><span class="font-mono font-bold text-sm">7400</span><span
                        class="text-xs text-gray-400">NAND</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('7402')"><span class="font-mono font-bold text-sm">7402</span><span
                        class="text-xs text-gray-400">NOR</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('7486')"><span class="font-mono font-bold text-sm">7486</span><span
                        class="text-xs text-gray-400">XOR</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('7483')"><span class="font-mono font-bold text-sm">7483</span><span
                        class="text-xs text-gray-400">4b Add</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('74150')"><span class="font-mono font-bold text-sm">74150</span><span
                        class="text-xs text-gray-400">16: MUX</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('74151')"><span class="font-mono font-bold text-sm">74151</span><span
                        class="text-xs text-gray-400">8:1 MUX</span></div>
            </div>

            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 mt-2">Basic Gates</div>
            <div class="grid grid-cols-3 gap-2">
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('AND')">
                    <svg width="30" height="20" viewBox="0 0 30 20" stroke="white" fill="none" stroke-width="2">
                        <path d="M5,1 L15,1 C22,1 25,10 15,19 L5,19 Z"></path>
                    </svg><span class="text-xs">AND</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('OR')">
                    <svg width="30" height="20" viewBox="0 0 30 20" stroke="white" fill="none" stroke-width="2">
                        <path d="M5,1 C5,1 10,1 15,1 C25,1 28,10 15,19 C10,19 5,19 5,19 C8,10 8,10 5,1 Z"></path>
                    </svg><span class="text-xs">OR</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('NOT')">
                    <svg width="30" height="20" viewBox="0 0 30 20" stroke="white" fill="none" stroke-width="2">
                        <path d="M5,1 L20,10 L5,19 Z"></path>
                        <circle cx="23" cy="10" r="2"></circle>
                    </svg><span class="text-xs">NOT</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('NAND')"><span class="font-bold text-lg">NAND</span><span
                        class="text-xs text-gray-400">Gate</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('NOR')"><span class="font-bold text-lg">NOR</span><span
                        class="text-xs text-gray-400">Gate</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('XOR')"><span class="font-bold text-lg">XOR</span><span
                        class="text-xs text-gray-400">Gate</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('XNOR')"><span class="font-bold text-lg">XNOR</span><span
                        class="text-xs text-gray-400">Gate</span></div>
            </div>

            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 mt-2">Memory &amp; State</div>
            <div class="grid grid-cols-3 gap-2">
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('D_FF')">
                    <div class="w-8 h-8 border-2 border-gray-400 rounded flex items-center justify-center"><span
                            class="text-[10px] font-bold">D</span></div><span class="text-xs">D-FF</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('D_FF_R')">
                    <div class="w-8 h-8 border-2 border-gray-400 rounded flex items-center justify-center"><span
                            class="text-[10px] font-bold">D</span></div><span class="text-xs">D-FF(R)</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('T_FF')">
                    <div class="w-8 h-8 border-2 border-gray-400 rounded flex items-center justify-center"><span
                            class="text-[10px] font-bold">T</span></div><span class="text-xs">T-FF</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('JK_FF')">
                    <div class="w-8 h-8 border-2 border-gray-400 rounded flex items-center justify-center"><span
                            class="text-[10px] font-bold">JK</span></div><span class="text-xs">JK</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('SR_FF')">
                    <div class="w-8 h-8 border-2 border-gray-400 rounded flex items-center justify-center"><span
                            class="text-[10px] font-bold">SR</span></div><span class="text-xs">SR</span>
                </div>
            </div>

            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 mt-2">Outputs &amp; Instruments
            </div>
            <div class="grid grid-cols-3 gap-2">
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('LIGHT')"><svg class="svg-inline--fa fa-lightbulb text-yellow-200 text-xl"
                        aria-hidden="true" focusable="false" data-prefix="fas" data-icon="lightbulb" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z">
                        </path>
                    </svg><span class="text-xs">Light</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('LED')">
                    <div class="relative w-6 h-6 flex items-center justify-center">
                        <div class="w-4 h-4 rounded-full bg-red-500 border border-red-700"></div>
                    </div><span class="text-xs">LED</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('HEX_DISPLAY')">
                    <div class="bg-black text-red-500 font-mono font-bold px-2 rounded border border-gray-600">8</div>
                    <span class="text-xs">Hex</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('BAR_GRAPH')"><svg class="svg-inline--fa fa-bars text-red-400 text-xl"
                        aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z">
                        </path>
                    </svg><span class="text-xs">Graph</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('SCOPE')"><svg
                        class="svg-inline--fa fa-wave-square text-green-400 text-xl" aria-hidden="true"
                        focusable="false" data-prefix="fas" data-icon="wave-square" role="img"
                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M128 64c0-17.7 14.3-32 32-32H320c17.7 0 32 14.3 32 32V416h96V256c0-17.7 14.3-32 32-32H608c17.7 0 32 14.3 32 32s-14.3 32-32 32H512V448c0 17.7-14.3 32-32 32H320c-17.7 0-32-14.3-32-32V96H192V256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h96V64z">
                        </path>
                    </svg><span class="text-xs">Scope</span></div>
                <div class="component-btn bg-gray-700 p-2 rounded flex flex-col items-center gap-2"
                    onclick="sim.addComponent('ANALYZER')"><svg
                        class="svg-inline--fa fa-chart-bar text-cyan-400 text-xl" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="chart-bar" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M32 32c17.7 0 32 14.3 32 32V400c0 8.8 7.2 16 16 16H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-44.2 0-80-35.8-80-80V64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64H288c17.7 0 32 14.3 32 32s-14.3 32-32 32H160c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H160c-17.7 0-32-14.3-32-32s14.3-32 32-32z">
                        </path>
                    </svg><span class="text-xs">Analyz</span></div>
            </div>

            <div class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">Tools</div>
            <div class="grid grid-cols-2 gap-2">
                <div class="component-btn bg-blue-900/30 border border-blue-800 p-2 rounded flex items-center gap-3 px-4"
                    onclick="sim.openTruthTable()">
                    <svg class="svg-inline--fa fa-table text-blue-400 text-xl" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="table" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z">
                        </path>
                    </svg><span class="text-sm font-bold text-blue-100">Table</span>
                </div>
                <div class="component-btn bg-gray-700 p-2 rounded flex items-center gap-3 px-4"
                    onclick="sim.addComponent('TEXT')">
                    <svg class="svg-inline--fa fa-font text-gray-300 text-xl" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="font" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 448 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-1.8l18-48H303.8l18 48H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H390.2L254 52.8zM279.8 304H168.2L224 155.1 279.8 304z">
                        </path>
                    </svg><span class="text-sm text-gray-300">Text</span>
                </div>
            </div>

            <div class="mt-auto text-xs text-gray-500 text-center pb-8 md:pb-0">
                <p>Made by D K Roy</p>
            </div>
        </div>
    </div>

    <script src="ui1.js"></script>
    <script src="main1.js"></script>


</body>

</html>
